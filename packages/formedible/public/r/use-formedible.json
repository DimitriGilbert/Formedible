{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "use-formedible",
  "type": "registry:hook",
  "title": "Use Formedible",
  "description": "A powerful React hook for creating schema-driven forms with TanStack Form and shadcn/ui components",
  "dependencies": [
    "@tanstack/react-form",
    "@radix-ui/react-checkbox",
    "@radix-ui/react-label",
    "@radix-ui/react-select",
    "@radix-ui/react-switch",
    "date-fns",
    "react-day-picker",
    "lucide-react",
    "zod"
  ],
  "registryDependencies": [
    "button",
    "input",
    "textarea",
    "select",
    "checkbox",
    "switch",
    "label",
    "calendar",
    "popover"
  ],
  "files": [
    {
      "path": "src/hooks/use-formedible.tsx",
      "content": "\"use client\";\nimport React, { useState, useMemo } from \"react\";\nimport { useForm } from \"@tanstack/react-form\";\nimport { z } from \"zod\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { TextField } from \"@/components/fields/text-field\";\nimport { TextareaField } from \"@/components/fields/textarea-field\";\nimport { SelectField } from \"@/components/fields/select-field\";\nimport { CheckboxField } from \"@/components/fields/checkbox-field\";\nimport { SwitchField } from \"@/components/fields/switch-field\";\nimport { NumberField } from \"@/components/fields/number-field\";\nimport { DateField } from \"@/components/fields/date-field\";\nimport { SliderField } from \"@/components/fields/slider-field\";\nimport { FileUploadField } from \"@/components/fields/file-upload-field\";\n\ninterface FormProps {\n  className?: string;\n  children?: React.ReactNode;\n  onSubmit?: (e: React.FormEvent) => void;\n}\n\ninterface FieldConfig {\n  name: string;\n  type: string;\n  label?: string;\n  placeholder?: string;\n  description?: string;\n  options?: string[];\n  min?: number;\n  max?: number;\n  step?: number;\n  accept?: string;\n  multiple?: boolean;\n  component?: React.ComponentType<any>;\n  wrapper?: React.ComponentType<{ children: React.ReactNode; field: FieldConfig }>;\n  page?: number;\n  validation?: z.ZodSchema<any>;\n  dependencies?: string[];\n  conditional?: (values: any) => boolean;\n}\n\ninterface PageConfig {\n  page: number;\n  title?: string;\n  description?: string;\n  component?: React.ComponentType<{ \n    children: React.ReactNode; \n    title?: string; \n    description?: string; \n    page: number;\n    totalPages: number;\n  }>;\n}\n\ninterface ProgressConfig {\n  component?: React.ComponentType<{ \n    value: number; \n    currentPage: number; \n    totalPages: number; \n    className?: string;\n  }>;\n  showSteps?: boolean;\n  showPercentage?: boolean;\n  className?: string;\n}\n\ninterface UseFormedibleOptions<TFormValues> {\n  fields?: FieldConfig[];\n  schema?: z.ZodSchema<TFormValues>;\n  submitLabel?: string;\n  nextLabel?: string;\n  previousLabel?: string;\n  formClassName?: string;\n  fieldClassName?: string;\n  pages?: PageConfig[];\n  progress?: ProgressConfig;\n  defaultComponents?: {\n    [key: string]: React.ComponentType<any>;\n  };\n  globalWrapper?: React.ComponentType<{ children: React.ReactNode; field: FieldConfig }>;\n  formOptions?: Partial<{\n    defaultValues: TFormValues;\n    onSubmit: (props: { value: TFormValues; formApi: any }) => any | Promise<any>;\n    onSubmitInvalid: (props: { value: TFormValues; formApi: any }) => void;\n    asyncDebounceMs: number;\n    canSubmitWhenInvalid: boolean;\n    validators: {\n      onChange?: z.ZodSchema<any>;\n      onBlur?: z.ZodSchema<any>;\n      onSubmit?: z.ZodSchema<any>;\n    };\n  }>;\n  onPageChange?: (page: number, direction: 'next' | 'previous') => void;\n}\n\nconst defaultFieldComponents: Record<string, React.ComponentType<any>> = {\n  text: TextField,\n  email: TextField,\n  password: TextField,\n  url: TextField,\n  textarea: TextareaField,\n  select: SelectField,\n  checkbox: CheckboxField,\n  switch: SwitchField,\n  number: NumberField,\n  date: DateField,\n  slider: SliderField,\n  file: FileUploadField,\n};\n\nconst DefaultProgressComponent: React.FC<{\n  value: number;\n  currentPage: number;\n  totalPages: number;\n  className?: string;\n}> = ({ value, currentPage, totalPages, className }) => (\n  <div className={cn(\"space-y-2\", className)}>\n    <div className=\"flex justify-between text-sm text-muted-foreground\">\n      <span>Step {currentPage} of {totalPages}</span>\n      <span>{Math.round(value)}%</span>\n    </div>\n    <Progress value={value} className=\"h-2\" />\n  </div>\n);\n\nconst DefaultPageComponent: React.FC<{\n  children: React.ReactNode;\n  title?: string;\n  description?: string;\n  page: number;\n  totalPages: number;\n}> = ({ children, title, description }) => (\n  <div className=\"space-y-6\">\n    {(title || description) && (\n      <div className=\"space-y-2\">\n        {title && <h3 className=\"text-lg font-semibold\">{title}</h3>}\n        {description && <p className=\"text-muted-foreground\">{description}</p>}\n      </div>\n    )}\n    <div className=\"space-y-4\">\n      {children}\n    </div>\n  </div>\n);\n\nexport function useFormedible<TFormValues extends Record<string, any>>(\n  options: UseFormedibleOptions<TFormValues>\n) {\n  const {\n    fields = [],\n    schema,\n    submitLabel = \"Submit\",\n    nextLabel = \"Next\",\n    previousLabel = \"Previous\",\n    formClassName,\n    fieldClassName,\n    pages = [],\n    progress,\n    defaultComponents = {},\n    globalWrapper,\n    formOptions,\n    onPageChange,\n  } = options;\n\n  const [currentPage, setCurrentPage] = useState(1);\n\n  // Combine default components with user overrides\n  const fieldComponents = { ...defaultFieldComponents, ...defaultComponents };\n\n  // Group fields by pages\n  const fieldsByPage = useMemo(() => {\n    const grouped: { [page: number]: FieldConfig[] } = {};\n    \n    fields.forEach(field => {\n      const page = field.page || 1;\n      if (!grouped[page]) grouped[page] = [];\n      grouped[page].push(field);\n    });\n\n    return grouped;\n  }, [fields]);\n\n  const totalPages = Math.max(...Object.keys(fieldsByPage).map(Number), 1);\n  const hasPages = totalPages > 1;\n\n  // Calculate progress\n  const progressValue = hasPages ? ((currentPage - 1) / (totalPages - 1)) * 100 : 100;\n\n  // Setup form with schema validation if provided\n  const formConfig = {\n    ...formOptions,\n    ...(schema && {\n      validators: {\n        onChange: schema,\n        ...formOptions?.validators,\n      }\n    })\n  };\n\n  const form = useForm(formConfig as any);\n\n  const getCurrentPageFields = () => fieldsByPage[currentPage] || [];\n\n  const getCurrentPageConfig = () => pages.find(p => p.page === currentPage);\n\n  const goToNextPage = () => {\n    if (currentPage < totalPages) {\n      const newPage = currentPage + 1;\n      setCurrentPage(newPage);\n      onPageChange?.(newPage, 'next');\n    }\n  };\n\n  const goToPreviousPage = () => {\n    if (currentPage > 1) {\n      const newPage = currentPage - 1;\n      setCurrentPage(newPage);\n      onPageChange?.(newPage, 'previous');\n    }\n  };\n\n  const isLastPage = currentPage === totalPages;\n  const isFirstPage = currentPage === 1;\n\n  const Form: React.FC<FormProps> = ({ className, children, onSubmit }) => {\n    const handleSubmit = (e: React.FormEvent) => {\n      e.preventDefault();\n      e.stopPropagation();\n      \n      if (onSubmit) {\n        onSubmit(e);\n      } else if (isLastPage) {\n        form.handleSubmit();\n      } else {\n        goToNextPage();\n      }\n    };\n\n    const formClass = cn(\"space-y-6\", formClassName, className);\n\n    const renderField = (fieldConfig: FieldConfig, formValues?: any) => {\n      const { \n        name, \n        type, \n        label, \n        placeholder, \n        description, \n        options,\n        min,\n        max,\n        step,\n        accept,\n        multiple,\n        component: CustomComponent,\n        wrapper: CustomWrapper,\n        conditional,\n        validation\n      } = fieldConfig;\n\n      // Check conditional rendering\n      if (conditional && formValues && !conditional(formValues)) {\n        return null;\n      }\n\n      return (\n        <form.Field \n          key={name} \n          name={name as keyof TFormValues & string}\n          validators={validation ? { onChange: validation } : undefined}\n        >\n          {(field) => {\n            const baseProps = {\n              fieldApi: field,\n              label,\n              placeholder,\n              description,\n              wrapperClassName: fieldClassName,\n              min,\n              max,\n              step,\n              accept,\n              multiple,\n            };\n\n            // Select the component to use\n            const FieldComponent = CustomComponent || fieldComponents[type] || TextField;\n\n            // Add type-specific props\n            const props = type === 'select' \n              ? { ...baseProps, options: options || [] }\n              : { ...baseProps, type: ['text', 'email', 'password', 'url'].includes(type) ? type : undefined };\n\n            // Render the field component\n            const fieldElement = <FieldComponent {...props} />;\n\n            // Apply custom wrapper or global wrapper\n            const Wrapper = CustomWrapper || globalWrapper;\n            \n            return Wrapper \n              ? <Wrapper field={fieldConfig}>{fieldElement}</Wrapper>\n              : fieldElement;\n          }}\n        </form.Field>\n      );\n    };\n\n    const renderPageContent = () => {\n      const currentFields = getCurrentPageFields();\n      const pageConfig = getCurrentPageConfig();\n      \n      return (\n        <form.Subscribe selector={(state) => state.values}>\n          {(state) => {\n            const values = (state as any).values;\n            const fieldsToRender = currentFields.map(field => \n              renderField(field, values)\n            ).filter(Boolean);\n\n            const PageComponent = pageConfig?.component || DefaultPageComponent;\n\n            return (\n              <PageComponent\n                title={pageConfig?.title}\n                description={pageConfig?.description}\n                page={currentPage}\n                totalPages={totalPages}\n              >\n                {fieldsToRender}\n              </PageComponent>\n            );\n          }}\n        </form.Subscribe>\n      );\n    };\n\n    const renderProgress = () => {\n      if (!hasPages || !progress) return null;\n\n      const ProgressComponent = progress.component || DefaultProgressComponent;\n      \n      return (\n        <ProgressComponent\n          value={progressValue}\n          currentPage={currentPage}\n          totalPages={totalPages}\n          className={progress.className}\n        />\n      );\n    };\n\n    const renderNavigation = () => {\n      if (!hasPages) {\n        return (\n          <form.Subscribe\n            selector={(state) => ({\n              canSubmit: state.canSubmit,\n              isSubmitting: state.isSubmitting,\n            })}\n          >\n            {(state) => {\n              const { canSubmit, isSubmitting } = state as any;\n              return (\n                <Button\n                  type=\"submit\"\n                  disabled={!canSubmit || isSubmitting}\n                  className=\"w-full\"\n                >\n                  {isSubmitting ? \"Submitting...\" : submitLabel}\n                </Button>\n              );\n            }}\n          </form.Subscribe>\n        );\n      }\n\n      return (\n        <form.Subscribe\n          selector={(state) => ({\n            canSubmit: state.canSubmit,\n            isSubmitting: state.isSubmitting,\n          })}\n        >\n          {(state) => {\n            const { canSubmit, isSubmitting } = state as any;\n            return (\n              <div className=\"flex justify-between gap-4\">\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={goToPreviousPage}\n                  disabled={isFirstPage}\n                  className={isFirstPage ? \"invisible\" : \"\"}\n                >\n                  {previousLabel}\n                </Button>\n                \n                <Button\n                  type=\"submit\"\n                  disabled={(!canSubmit || isSubmitting) && isLastPage}\n                  className=\"flex-1 max-w-xs\"\n                >\n                  {isSubmitting && isLastPage\n                    ? \"Submitting...\"\n                    : isLastPage\n                    ? submitLabel\n                    : nextLabel}\n                </Button>\n              </div>\n            );\n          }}\n        </form.Subscribe>\n      );\n    };\n\n    return (\n      <form onSubmit={handleSubmit} className={formClass}>\n        {children || (\n          <>\n            {renderProgress()}\n            {renderPageContent()}\n            {renderNavigation()}\n          </>\n        )}\n      </form>\n    );\n  };\n\n  return {\n    form,\n    Form,\n    currentPage,\n    totalPages,\n    goToNextPage,\n    goToPreviousPage,\n    setCurrentPage,\n    isFirstPage,\n    isLastPage,\n    progressValue,\n  };\n}\n",
      "type": "registry:hook",
      "target": "hooks/use-formedible.tsx"
    },
    {
      "path": "src/lib/formedible/types.ts",
      "content": "import type { AnyFieldApi } from '@tanstack/react-form';\n\n// Props that all basic field components rendered by FormedibleRoot will receive\nexport interface BaseFieldProps {\n  fieldApi: AnyFieldApi;\n  label?: string;\n  description?: string; // Added description\n  placeholder?: string;\n  inputClassName?: string;   // For the <Input /> component itself\n  labelClassName?: string;   // For the <Label /> component\n  wrapperClassName?: string; // For the div wrapping label and input\n} ",
      "type": "registry:hook",
      "target": "lib/formedible/types.ts"
    },
    {
      "path": "src/components/fields/text-field.tsx",
      "content": "'use client';\nimport React from 'react';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { cn } from '@/lib/utils';\nimport type { BaseFieldProps } from '../../lib/formedible/types';\n\nexport interface TextFieldSpecificProps extends BaseFieldProps {\n  type?: 'text' | 'email' | 'password' | 'url' | 'tel' | 'datetime-local';\n}\n\nexport const TextField: React.FC<TextFieldSpecificProps> = ({\n  fieldApi,\n  label,\n  description,\n  placeholder,\n  inputClassName,\n  labelClassName,\n  wrapperClassName,\n  type = 'text',\n}) => {\n  const { name, state, handleChange, handleBlur } = fieldApi;\n  const value = state.value as string | number | undefined;\n\n  const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    handleChange(e.target.value);\n  };\n\n  return (\n    <div className={cn(\"space-y-1.5\", wrapperClassName)}>\n      {label && (\n        <Label htmlFor={name} className={cn(\"text-sm font-medium\", labelClassName)}>\n          {label}\n        </Label>\n      )}\n      {description && <p className=\"text-xs text-muted-foreground\">{description}</p>}\n      <Input\n        id={name}\n        name={name}\n        type={type}\n        value={value === undefined || value === null ? '' : String(value)}\n        onBlur={handleBlur}\n        onChange={onChange}\n        placeholder={placeholder}\n        className={cn(inputClassName, state.meta.errors.length ? \"border-destructive\" : \"\")}\n        disabled={fieldApi.form.state.isSubmitting}\n      />\n      {state.meta.isTouched && state.meta.errors.length > 0 && (\n        <div className=\"text-xs text-destructive pt-1\">\n          {state.meta.errors.map((err: any, index: number) => (\n            <p key={index}>{typeof err === 'string' ? err : (err as Error)?.message || 'Invalid'}</p>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n",
      "type": "registry:component",
      "target": "components/fields/text-field.tsx"
    },
    {
      "path": "src/components/fields/textarea-field.tsx",
      "content": "import React from 'react';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Label } from '@/components/ui/label';\nimport { cn } from '@/lib/utils';\nimport type { BaseFieldProps } from '../../lib/formedible/types';\n\nexport interface TextareaFieldSpecificProps extends BaseFieldProps {\n  rows?: number;\n}\n\nexport const TextareaField: React.FC<TextareaFieldSpecificProps> = ({\n  fieldApi,\n  label,\n  placeholder,\n  description,\n  rows = 3,\n  inputClassName,\n  labelClassName,\n  wrapperClassName,\n}) => {\n  return (\n    <div className={cn(\"space-y-1.5\", wrapperClassName)}>\n      {label && (\n        <Label htmlFor={fieldApi.name} className={cn(\"text-sm font-medium\", labelClassName)}>\n          {label}\n        </Label>\n      )}\n      {description && <p className=\"text-xs text-muted-foreground\">{description}</p>}\n      <Textarea\n        id={fieldApi.name}\n        name={fieldApi.name}\n        value={(fieldApi.state.value as string) || ''}\n        onBlur={fieldApi.handleBlur}\n        onChange={(e) => fieldApi.handleChange(e.target.value)}\n        placeholder={placeholder}\n        rows={rows}\n        className={cn(inputClassName, fieldApi.state.meta.errors.length ? \"border-destructive\" : \"\")}\n        disabled={fieldApi.form.state.isSubmitting}\n      />\n      {fieldApi.state.meta.isTouched && fieldApi.state.meta.errors.length > 0 && (\n        <div className=\"text-xs text-destructive pt-1\">\n          {fieldApi.state.meta.errors.map((err: any, index: number) => (\n            <p key={index}>{String(err)}</p>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n",
      "type": "registry:component",
      "target": "components/fields/textarea-field.tsx"
    },
    {
      "path": "src/components/fields/select-field.tsx",
      "content": "import React from 'react';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Label } from '@/components/ui/label';\nimport { cn } from '@/lib/utils';\nimport type { BaseFieldProps } from '@/lib/formedible/types';\n\ninterface SelectFieldSpecificProps extends BaseFieldProps {\n  options: Array<{ value: string; label: string }> | string[];\n}\n\nexport const SelectField: React.FC<SelectFieldSpecificProps> = ({\n  fieldApi,\n  label,\n  placeholder,\n  description,\n  options = [],\n  inputClassName,\n  labelClassName,\n  wrapperClassName,\n}) => {\n  return (\n    <div className={cn(\"space-y-1.5\", wrapperClassName)}>\n      {label && (\n        <Label htmlFor={fieldApi.name + \"-trigger\"} className={cn(\"text-sm font-medium\", labelClassName)}>\n          {label}\n        </Label>\n      )}\n      {description && <p className=\"text-xs text-muted-foreground\">{description}</p>}\n      <Select\n        value={(fieldApi.state.value as string) || ''}\n        onValueChange={(value) => fieldApi.handleChange(value)}\n        disabled={fieldApi.form.state.isSubmitting}\n      >\n        <SelectTrigger\n          id={fieldApi.name + \"-trigger\"}\n          onBlur={fieldApi.handleBlur}\n          className={cn(inputClassName, fieldApi.state.meta.errors.length ? \"border-destructive\" : \"\")}\n        >\n          <SelectValue placeholder={placeholder || \"Select an option\"} />\n        </SelectTrigger>\n        <SelectContent>\n          {options.map((option, index) => {\n            const value = typeof option === 'string' ? option : option.value;\n            const label = typeof option === 'string' ? option : option.label;\n            return (\n              <SelectItem key={value + index} value={value}>\n                {label}\n              </SelectItem>\n            );\n          })}\n        </SelectContent>\n      </Select>\n      {fieldApi.state.meta.isTouched && fieldApi.state.meta.errors.length > 0 && (\n        <div className=\"text-xs text-destructive pt-1\">\n          {fieldApi.state.meta.errors.map((err: any, index: number) => (\n            <p key={index}>{String(err)}</p>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n",
      "type": "registry:component",
      "target": "components/fields/select-field.tsx"
    },
    {
      "path": "src/components/fields/checkbox-field.tsx",
      "content": "import React from 'react';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Label } from '@/components/ui/label';\nimport { cn } from '@/lib/utils';\nimport type { BaseFieldProps } from '@/lib/formedible/types';\n\nexport const CheckboxField: React.FC<BaseFieldProps> = ({\n  fieldApi,\n  label,\n  description,\n  labelClassName,\n  wrapperClassName,\n}) => {\n  return (\n    <div className={cn(\"space-y-1.5\", wrapperClassName)}>\n      <div className=\"flex items-center space-x-2\">\n        <Checkbox\n          id={fieldApi.name}\n          checked={!!fieldApi.state.value}\n          onCheckedChange={(checked) => fieldApi.handleChange(Boolean(checked))}\n          onBlur={fieldApi.handleBlur}\n          disabled={fieldApi.form.state.isSubmitting}\n          aria-describedby={description ? `${fieldApi.name}-description` : undefined}\n        />\n        {label && (\n          <Label htmlFor={fieldApi.name} className={cn(\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\", labelClassName)}>\n            {label}\n          </Label>\n        )}\n      </div>\n      {description && <p id={`${fieldApi.name}-description`} className=\"text-xs text-muted-foreground\">{description}</p>}\n      {fieldApi.state.meta.isTouched && fieldApi.state.meta.errors.length > 0 && (\n        <div className=\"text-xs text-destructive pt-1\">\n          {fieldApi.state.meta.errors.map((err: any, index: number) => (\n            <p key={index}>{String(err)}</p>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n",
      "type": "registry:component",
      "target": "components/fields/checkbox-field.tsx"
    },
    {
      "path": "src/components/fields/switch-field.tsx",
      "content": "import React from 'react';\nimport { Switch } from '@/components/ui/switch';\nimport { Label } from '@/components/ui/label';\nimport { cn } from '@/lib/utils';\nimport type { BaseFieldProps } from '@/lib/formedible/types';\n\nexport const SwitchField: React.FC<BaseFieldProps> = ({\n  fieldApi,\n  label,\n  description,\n  labelClassName,\n  wrapperClassName,\n}) => {\n  return (\n    <div className={cn(\"space-y-1.5\", wrapperClassName)}>\n      <div className=\"flex items-center space-x-2\">\n        <Switch\n          id={fieldApi.name}\n          checked={!!fieldApi.state.value}\n          onCheckedChange={(checked) => fieldApi.handleChange(checked)}\n          onBlur={fieldApi.handleBlur}\n          disabled={fieldApi.form.state.isSubmitting}\n          aria-describedby={description ? `${fieldApi.name}-description` : undefined}\n        />\n        {label && (\n          <Label htmlFor={fieldApi.name} className={cn(\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\", labelClassName)}>\n            {label}\n          </Label>\n        )}\n      </div>\n      {description && <p id={`${fieldApi.name}-description`} className=\"text-xs text-muted-foreground\">{description}</p>}\n      {fieldApi.state.meta.isTouched && fieldApi.state.meta.errors.length > 0 && (\n        <div className=\"text-xs text-destructive pt-1\">\n          {fieldApi.state.meta.errors.map((err: any, index: number) => (\n            <p key={index}>{String(err)}</p>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n",
      "type": "registry:component",
      "target": "components/fields/switch-field.tsx"
    },
    {
      "path": "src/components/fields/number-field.tsx",
      "content": "'use client';\nimport React from 'react';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { cn } from '@/lib/utils';\nimport type { BaseFieldProps } from '../../lib/formedible/types';\n\nexport interface NumberFieldSpecificProps extends BaseFieldProps {\n  min?: number;\n  max?: number;\n  step?: number;\n}\n\nexport const NumberField: React.FC<NumberFieldSpecificProps> = ({\n  fieldApi,\n  label,\n  description,\n  placeholder,\n  inputClassName,\n  labelClassName,\n  wrapperClassName,\n  min,\n  max,\n  step,\n}) => {\n  const { name, state, handleChange, handleBlur } = fieldApi;\n  const value = state.value as number | string | undefined;\n\n  const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const val = e.target.value;\n    if (val === '') {\n      handleChange(undefined);\n    } else {\n      const num = parseFloat(val);\n      handleChange(isNaN(num) ? val : num);\n    }\n  };\n\n  let displayValue: string | number = '';\n  if (typeof value === 'number') {\n    displayValue = value;\n  } else if (typeof value === 'string') {\n    displayValue = value;\n  }\n\n  return (\n    <div className={cn(\"space-y-1.5\", wrapperClassName)}>\n      {label && (\n        <Label htmlFor={name} className={cn(\"text-sm font-medium\", labelClassName)}>\n          {label}\n        </Label>\n      )}\n      {description && <p className=\"text-xs text-muted-foreground\">{description}</p>}\n      <Input\n        id={name}\n        name={name}\n        type=\"number\"\n        value={displayValue}\n        onBlur={handleBlur}\n        onChange={onChange}\n        placeholder={placeholder}\n        min={min}\n        max={max}\n        step={step}\n        className={cn(inputClassName, state.meta.errors.length ? \"border-destructive\" : \"\")}\n        disabled={fieldApi.form.state.isSubmitting}\n      />\n      {state.meta.isTouched && state.meta.errors.length > 0 && (\n        <div className=\"text-xs text-destructive pt-1\">\n          {state.meta.errors.map((err: any, index: number) => (\n            <p key={index}>{typeof err === 'string' ? err : (err as Error)?.message || 'Invalid'}</p>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n",
      "type": "registry:component",
      "target": "components/fields/number-field.tsx"
    },
    {
      "path": "src/components/fields/date-field.tsx",
      "content": "import React from 'react';\nimport { format, parseISO } from 'date-fns';\nimport { Calendar as CalendarIcon } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport { Calendar } from '@/components/ui/calendar';\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '@/components/ui/popover';\nimport { Label } from '@/components/ui/label';\nimport type { BaseFieldProps } from '@/lib/formedible/types';\n\nexport const DateField: React.FC<BaseFieldProps> = ({\n  fieldApi,\n  label,\n  placeholder = \"Pick a date\",\n  description,\n  inputClassName,\n  labelClassName,\n  wrapperClassName,\n}) => {\n  const [isOpen, setIsOpen] = React.useState(false);\n\n  const selectedDate = fieldApi.state.value\n    ? fieldApi.state.value instanceof Date\n      ? fieldApi.state.value\n      : typeof fieldApi.state.value === 'string'\n        ? parseISO(fieldApi.state.value)\n        : undefined\n    : undefined;\n\n  const handleDateSelect = (date: Date | undefined) => {\n    fieldApi.handleChange(date);\n    fieldApi.handleBlur();\n    setIsOpen(false);\n  };\n\n  return (\n    <div className={cn(\"space-y-1.5\", wrapperClassName)}>\n      {label && (\n        <Label htmlFor={fieldApi.name + \"-trigger\"} className={cn(\"text-sm font-medium\", labelClassName)}>\n          {label}\n        </Label>\n      )}\n      {description && <p className=\"text-xs text-muted-foreground\">{description}</p>}\n      <Popover open={isOpen} onOpenChange={setIsOpen}>\n        <PopoverTrigger asChild>\n          <Button\n            id={fieldApi.name + \"-trigger\"}\n            variant={\"outline\"}\n            className={cn(\n              \"w-full justify-start text-left font-normal\",\n              !selectedDate && \"text-muted-foreground\",\n              inputClassName,\n              fieldApi.state.meta.errors.length ? \"border-destructive\" : \"\"\n            )}\n            disabled={fieldApi.form.state.isSubmitting}\n            onBlur={fieldApi.handleBlur}\n          >\n            <CalendarIcon className=\"mr-2 h-4 w-4\" />\n            {selectedDate ? format(selectedDate, \"PPP\") : <span>{placeholder}</span>}\n          </Button>\n        </PopoverTrigger>\n        <PopoverContent className=\"w-auto p-0\">\n          <Calendar\n            mode=\"single\"\n            selected={selectedDate}\n            onSelect={handleDateSelect}\n            initialFocus\n            disabled={fieldApi.form.state.isSubmitting}\n          />\n        </PopoverContent>\n      </Popover>\n      {fieldApi.state.meta.isTouched && fieldApi.state.meta.errors.length > 0 && (\n        <div className=\"text-xs text-destructive pt-1\">\n          {fieldApi.state.meta.errors.map((err: any, index: number) => (\n            <p key={index}>{String(err)}</p>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n",
      "type": "registry:component",
      "target": "components/fields/date-field.tsx"
    },
    {
      "path": "src/components/fields/slider-field.tsx",
      "content": "import React from 'react';\nimport type { AnyFieldApi } from '@tanstack/react-form';\nimport { Slider } from '@/components/ui/slider';\nimport { Label } from '@/components/ui/label';\nimport { cn } from '@/lib/utils';\nimport type { BaseFieldProps } from '../../lib/formedible/types';\n\nexport interface SliderFieldSpecificProps extends BaseFieldProps {\n  min?: number;\n  max?: number;\n  step?: number;\n  valueLabelPrefix?: string; // E.g., \"Temperature\"\n  valueLabelSuffix?: string; // E.g., \"FPS\" \n  valueDisplayPrecision?: number; // For toFixed()\n  showRawValue?: boolean; // Optionally show raw value next to formatted one\n}\n\nexport const SliderField: React.FC<SliderFieldSpecificProps> = ({\n  fieldApi,\n  label,\n  description,\n  min = 0,\n  max = 100,\n  step = 1,\n  valueLabelPrefix = '',\n  valueLabelSuffix = '',\n  valueDisplayPrecision = 0,\n  showRawValue = false,\n  wrapperClassName,\n  inputClassName,\n  labelClassName,\n}) => {\n  const { name, state, handleChange, handleBlur } = fieldApi;\n  const fieldValue = typeof state.value === 'number' ? state.value : min;\n  const displayValue = fieldValue.toFixed(valueDisplayPrecision);\n\n  return (\n    <div className={cn(\"space-y-1.5\", wrapperClassName)}>\n      {label && (\n        <Label htmlFor={name} className={cn(\"text-sm font-medium\", labelClassName)}>\n          {label} ({valueLabelPrefix}{displayValue}{valueLabelSuffix})\n          {showRawValue && <span className=\"text-xs text-muted-foreground ml-2\">(Raw: {state.value})</span>}\n        </Label>\n      )}\n      {description && <p className=\"text-xs text-muted-foreground\">{description}</p>}\n      <Slider\n        id={name}\n        name={name}\n        value={[fieldValue]} // Slider expects an array\n        onValueChange={(valueArray) => handleChange(valueArray[0])} // Send single number to form state\n        onBlur={handleBlur}\n        disabled={fieldApi.form.state.isSubmitting}\n        min={min}\n        max={max}\n        step={step}\n        className={cn(inputClassName, state.meta.errors.length ? \"border-destructive\" : \"\")}\n      />\n      {state.meta.isTouched && state.meta.errors.length > 0 && (\n        <div className=\"text-xs text-destructive pt-1\">\n          {state.meta.errors.map((err: any, index: number) => (\n            <p key={index}>{typeof err === 'string' ? err : (err as Error)?.message || 'Invalid'}</p>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}; ",
      "type": "registry:component",
      "target": "components/fields/slider-field.tsx"
    },
    {
      "path": "src/components/fields/file-upload-field.tsx",
      "content": "// src/components/contact/client-form/fields/FileUploadField.tsx\nimport React from \"react\";\nimport type { AnyFieldApi } from \"@tanstack/react-form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { cn } from \"@/lib/utils\";\nimport { motion } from \"motion/react\";\nimport { PaperclipIcon, XIcon, UploadCloudIcon } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface FileUploadFieldProps {\n  fieldApi: AnyFieldApi;\n  label?: string;\n  accept?: string;\n  className?: string;\n  wrapperClassName?: string;\n  description?: string;\n}\n\nexport const FileUploadField: React.FC<FileUploadFieldProps> = ({\n  fieldApi,\n  label,\n  accept,\n  className,\n  wrapperClassName,\n  description,\n}) => {\n  const { name, state, handleChange, handleBlur } = fieldApi;\n  const file = state.value as File | null;\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFile = e.target.files?.[0] ?? null;\n    handleChange(selectedFile);\n    handleBlur();\n  };\n\n  const handleRemoveFile = () => {\n    handleChange(null);\n    const inputElement = document.getElementById(name) as HTMLInputElement;\n    if (inputElement) {\n      inputElement.value = \"\";\n    }\n    handleBlur();\n  };\n\n  const triggerFileInput = () => {\n    const inputElement = document.getElementById(name) as HTMLInputElement;\n    inputElement?.click();\n  };\n\n  return (\n    <motion.div\n      className={cn(\"space-y-1.5\", wrapperClassName)}\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.3 }}\n    >\n      {label && (\n        <Label className=\"text-sm font-medium cursor-pointer\" onClick={triggerFileInput}>\n          {label}\n        </Label>\n      )}\n      {description && <p className=\"text-xs text-muted-foreground\">{description}</p>}\n      <Input\n        id={name}\n        name={name}\n        type=\"file\"\n        accept={accept}\n        onChange={handleFileChange}\n        className=\"hidden\"\n      />\n      {file ? (\n        <motion.div\n          initial={{ opacity: 0, scale: 0.9 }}\n          animate={{ opacity: 1, scale: 1 }}\n          className=\"flex items-center justify-between p-2.5 border rounded-lg bg-muted/40 shadow-sm hover:shadow-md transition-shadow\"\n        >\n          <div className=\"flex items-center gap-2 text-sm overflow-hidden\">\n            <PaperclipIcon className=\"h-5 w-5 text-primary shrink-0\" />\n            <span className=\"truncate\" title={file.name}>{file.name}</span>\n            <span className=\"text-xs text-muted-foreground whitespace-nowrap\">\n              ({(file.size / 1024).toFixed(1)} KB)\n            </span>\n          </div>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={handleRemoveFile}\n            className=\"h-7 w-7 text-destructive hover:bg-destructive/10 shrink-0\"\n            aria-label=\"Remove file\"\n          >\n            <XIcon className=\"h-4 w-4\" />\n          </Button>\n        </motion.div>\n      ) : (\n        <motion.button\n          type=\"button\"\n          onClick={triggerFileInput}\n          whileHover={{ scale: 1.02 }}\n          whileTap={{ scale: 0.98 }}\n          className={cn(\n            \"w-full flex flex-col items-center justify-center p-4 border-2 border-dashed rounded-lg hover:border-primary transition-colors cursor-pointer bg-background hover:bg-muted/50\",\n            className,\n            state.meta.errors.length ? \"border-destructive hover:border-destructive\" : \"border-muted-foreground/50\",\n          )}\n        >\n          <UploadCloudIcon className=\"h-8 w-8 text-muted-foreground mb-2\" />\n          <span className=\"text-sm font-medium text-muted-foreground\">\n            Click or drag and drop a file\n          </span>\n          {accept && <span className=\"text-xs text-muted-foreground/80 mt-1\">Accepted types: {accept}</span>}\n        </motion.button>\n      )}\n      {state.meta.isTouched && state.meta.errors.length > 0 && (\n        <div className=\"text-xs text-destructive pt-1\">\n          {state.meta.errors.map((err: any, index: number) => (\n            <p key={index}>{typeof err === 'string' ? err : (err as Error)?.message || 'Invalid'}</p>\n          ))}\n        </div>\n      )}\n    </motion.div>\n  );\n};\n",
      "type": "registry:component",
      "target": "components/fields/file-upload-field.tsx"
    }
  ],
  "docs": "Make sure to install @tanstack/react-form and configure your shadcn/ui components before using this hook.",
  "categories": [
    "form",
    "hook"
  ]
}